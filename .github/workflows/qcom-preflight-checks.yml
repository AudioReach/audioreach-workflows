name: Qualcomm Preflight Checks Reusable Workflow

on:
  workflow_call:
    inputs:
      enable-semgrep-scan:
        type: boolean
        default: true
      semgrep-cli-options:
        type: string
        default: '--config auto'
      enable-repolinter-check:
        type: boolean
        default: true
      enable-copyright-license-check:
        type: boolean
        default: true
      enable-commit-email-check:
        type: boolean
        default: true
      enable-dependency-review:
        type: boolean
        default: true
      enable-commit-msg-check:
        type: boolean
        default: true
      commit-msg-check-extra-options:
        type: string
        default: ''
        description: 'Extra options as YAML/JSON object string, e.g., {\"foo\": false}\"'
permissions:
  contents: read
  security-events: write

jobs:
  qcom-preflight-checks:
    uses: qualcomm/qcom-reusable-workflows/.github/workflows/reusable-qcom-preflight-checks-orchestrator.yml@main
    with:
      # âœ… Preflight Checkers
      enable-semgrep-scan: ${{ inputs.enable-semgrep-scan }}
      semgrep-cli-options: ${{ inputs.semgrep-cli-options }}
      enable-repolinter-check: ${{ inputs.enable-repolinter-check }}
      enable-copyright-license-check: ${{ inputs.enable-copyright-license-check }}
      enable-commit-email-check: ${{ inputs.enable-commit-email-check }}
      enable-dependency-review: ${{ inputs.enable-dependency-review }}
      enable-commit-msg-check: ${{ inputs.enable-commit-msg-check }}
